var should = require('chai').should(),
	sinon = require('sinon'),
	Game = require('../Game.js');
describe("Game",function() {
	describe("#run",function() {
		it("should throw if socket.io has not been set or is undefined",function() {
			var g = new Game();
			g.run.should.throw();
		});
		it("should throw if Game.run is called twice in a row",function() {
			var io = {};
			io.sockets = {};
			io.sockets.on = sinon.stub();
			var g = new Game(io);
			g.should.have.property("io",io);
			(function() { g.run(); }).should.not.throw();
			(function() { g.run(); }).should.throw();
		});
	});
});